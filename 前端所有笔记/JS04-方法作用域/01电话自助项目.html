<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8" />
		<title></title>
		<script type="text/javascript">
		
			var telArr = [  
							{telNo:12345678901,phoneBill:500},
							{telNo:98765432210,phoneBill:600}
						 ]
			
			login();
			function login(){
				var time = 3;
				while(time>0){
					var userName = prompt("请输入电话号码登录:");
					var pwd = prompt("请输入密码");
					if(userName=="123456"&&pwd=="123456"){//帐号密码正确的情况
						manu();
					}else{
						time--;
						alert("帐号密码错误,请重新输入！宁还有"+time+"次");
					}
				}
			}
			/*菜单函数*/
			function manu(){
				var manuId = +prompt("欢迎使用电话自助系统\n请选择菜单:\n1:话费充值\n2:话费查询\n3:金融服务\n0:退出\n");
				switch (manuId){
					case 0:login();
						break;
					case 1:addPhoneBill();
						break;
					case 2:searchPhoneBill();
						break;
					case 3:financialService();
						break;
					default:
						break;
				}
			}
			/*话费充值函数*/
			function addPhoneBill(){
				var flag = true;
				while(flag){
					var telNo = prompt("请输入电话号码:");
					if(telNo.length == 11){
						
						var amount = +prompt("输入正确.请输入充值金额,最小充值100,最大充值2000");
						if(amount>=200&&amount<=2000){
							alert("宁已成功充值"+amount+"元");
							flag = false;
						}else{
							alert("充值区间为100~2000请重新输入");
						}
					}else{
						alert("电话号码格式不对,重新输入");
					}
				}
				backManu();
			}
			/*话费查询函数*/
			function searchPhoneBill(){
//				var flag = true;
				loop:for(;;){
					var telNo = prompt("请输入电话号码:");
					if(telNo.length == 11){
						for (var i = 0; i < telArr.length; i++) {
							if(telNo==telArr[i].telNo){
								alert("宁的话费余额:"+telArr[i].phoneBill+"元");
								break loop;
							}
						}
						alert("没有这个电话号码");
					}else{
						alert("电话号码格式不对,重新输入");
					}
				}
				backManu();
			}
			function financialService(){
				var flag = true;
				while(flag){
					var num1 =+prompt("请输入第一个数:");
					var num2 =+prompt("请输入第二个数:");
					if(!isNaN(num1)){//判断num1是否为数字
						var result = num1+num2;
						alert("宁最终资产"+result+"元");
						flag = false;
					}else{
						alert("请输入正确金额");
					}
				}
				backManu();
			}
			function backManu(){
				var selectFlag = confirm("是否返回上一级");
				if(selectFlag){
					manu();
				}else{
//					alert("退出成功");
					login();
				}
			}
		</script>
	</head>
	<body>
		
	</body>
</html>
